<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../../glitterBundle/ControlInstance.js"></script>
  <script type="text/javascript" src="../../glitterBundle/slick/slick.min.js"></script>
  <link rel="stylesheet" type="text/css" href="../../glitterBundle/slick/slick.css"/>
  <link rel="stylesheet" type="text/css" href="../../glitterBundle/slick/slick-theme.css"/>
</head>
<style>
  .topBar{
    display: flex;
    align-items: center;
    height: 50px;
    padding-left: 10px;
    padding-right: 10px;
  }
  html{
    width: 100%;
    height: 100%;
  }
  body{
    width: 100%;
    height: 100%;
  }
</style>
<body>

</body>
<script>
    lifeCycle.onCreate = function () {
        gBundle.map(function (data) {
            if(data.indexOf('HLS_ROUT')!==-1){
                $('.single-item').append(`
<div style="width: 100%;display: flex;align-items: center;justify-content: center;height: calc(100% - 50px);"><video id="hls-video" style="width:  100%; height:58vw;background-color: black;margin: 0;"  class="video-js vjs-big-play-centered"
       playsinline webkit-playsinline
       autoplay controls preload="true"
       x-webkit-airplay="true" x5-video-player-fullscreen="true" x5-video-player-typ="h5" width="auto" height="auto" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true"poster="${data}/thumb.jpg">
    <source src="${data}/root.m3u8" type="application/x-mpegURL" id="source">
</video></div>
`)
            }else {
                $('.single-item').append(`
<div style="width: 100%;height: calc(100vh - 100px);display: flex;align-items: center;justify-content: center;">
<img src="${data}" style="max-width: 100%;max-height: 100%;">
</div>
`)
            }

        })
      $('.single-item').slick({
        dots: true
      });
      $('.slick-arrow').hide()
    }
    lifeCycle.onCreateView = function () {
        return `
      <div class="topBar">
    <img src="../img/arrow_left.png" style="width: 30px;height: 30px;" onmousedown="glitter.goBack();">
    <h3 style="font-size: 18px;margin-left: 10px;">圖片預覽</h3>
    <div style="flex: auto;"></div>
</div>
<div style="width: 100%;height: calc(100% - 50px);display: flex;align-items: center;justify-content: center;">
  <div class="single-item" style="position: relative;max-height: 100%;width: 100%;"></div>
</div>

    `
    }
</script>
</html>