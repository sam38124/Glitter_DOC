<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../glitterBundle/ControlInstance.js"></script>
    <link href="../glitterBundle/bootstrap.css" rel="stylesheet">
    <link href="../fontawesome-free-5.15.4-web/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/styles/xcode.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/highlight.min.js"></script>
    <!-- and it's easy to individually load additional languages -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/languages/go.min.js"></script>
    <link href="../css/article.css" rel="stylesheet">
</head>
<style>

</style>
<body>
<script>
    lifeCycle.onCreate=function (){
        hljs.highlightAll();
        getData()

    }
    lifeCycle.onCreateView=function (){
        return `
        <h3 style="font-size: 39px;font-weight: 400;">頁面控制</h3>
 <div style="height: 1px;width: 100%;background-color: whitesmoke;margin-top: 20px;margin-bottom: 0px;"></div>
   <span><h3 style="color: #c41b1b;">頁面切換監聽</h3>
  <span style="color: #2a93b9;">帶入參數:(tag)</span><br><br>
  使用此函式監聽畫面的切換，建議放在Entry函式中．
  </span> <br>  <br>
  ${glitter.share.code.js(`    glitter.changePageListener = function (tag) {
        console.log("頁面切換了:"+tag)
    }
  `)}
   <div style="height: 1px;width: 100%;background-color: whitesmoke;margin-top: 20px;margin-bottom: 0px;"></div>

  <span><h3 style="color: #c41b1b;">取得某頁面</h3>
  <span style="color: #2a93b9;">帶入參數:(tag)</span><br><br>
  使用此函式取得某頁面的window視窗，進行控制，當此頁面未加入堆棧時，則返回空值．
  </span> <br>  <br>
  ${glitter.share.code.js(`   glitter.getPage('tagName')
  `)}
   <div style="height: 1px;width: 100%;background-color: whitesmoke;margin-top: 20px;margin-bottom: 0px;"></div>

  <span><h3 style="color: #c41b1b;">取得棧頂頁面</h3>
  取得棧頂頁面．
  </span>
   <br>  <br>
  ${glitter.share.code.js(`
   //return {tag:,window:}
   glitter.getNowPage();

  `)}
  <span><h3 style="color: darkcyan;">範例:</h3></span>
  ${glitter.share.code.js(`    //取得PageHome[return window]
    var home=glitter.getPage('PageHome')
    //範例一.取得pagehome的document並且改變其背景顏色
    home.document.getElementById('content').style.backgroundColor = "blue";
    //範例二.pageHome中有一個名為sample的函式，進行呼叫．
    home.sample()
    //範例三.取得pageHome中的宣告項目
    var homeData=home.data
    //範例四.更改pageHome中的宣告項目內容
    home.data="12345"
  `)}
   <br><div style="height: 1px;width: 100%;background-color: lightgray;margin-top: 20px;margin-bottom: 20px;"></div>

`

    }
    function getData(){
        $.ajax({
            url: '../text/SamplePage.html',
            timeout: 60000,
            contentType: "application/text; charset=utf-8;",
            type: "get",
            dataType: "text",
            success: function (data) {
                $('#codeInside').text(data)
            },
            error: function (data) {
                error()
                console.log("error:" + data)
            }
        });
    }
</script>
</body>
</html>

